(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29fc7052"],{1148:function(t,n,e){"use strict";var r=e("da84"),c=e("5926"),o=e("577e"),i=e("1d80"),a=r.RangeError;t.exports=function(t){var n=o(i(this)),e="",r=c(t);if(r<0||r==1/0)throw a("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(n+=n))1&r&&(e+=n);return e}},2532:function(t,n,e){"use strict";var r=e("23e7"),c=e("e330"),o=e("5a34"),i=e("1d80"),a=e("577e"),s=e("ab13"),u=c("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~u(a(i(this)),a(o(t)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,n,e){var r=e("861d"),c=e("c6b6"),o=e("b622"),i=o("match");t.exports=function(t){var n;return r(t)&&(void 0!==(n=t[i])?!!n:"RegExp"==c(t))}},"5a34":function(t,n,e){var r=e("da84"),c=e("44e7"),o=r.TypeError;t.exports=function(t){if(c(t))throw o("The method doesn't accept regular expressions");return t}},"63cf":function(t,n,e){},"94c7":function(t,n,e){},ab13:function(t,n,e){var r=e("b622"),c=r("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[c]=!1,"/./"[t](n)}catch(r){}}return!1}},b680:function(t,n,e){"use strict";var r=e("23e7"),c=e("da84"),o=e("e330"),i=e("5926"),a=e("408a"),s=e("1148"),u=e("d039"),l=c.RangeError,f=c.String,d=Math.floor,b=o(s),v=o("".slice),p=o(1..toFixed),h=function(t,n,e){return 0===n?e:n%2===1?h(t,n-1,e*t):h(t*t,n/2,e)},O=function(t){var n=0,e=t;while(e>=4096)n+=12,e/=4096;while(e>=2)n+=1,e/=2;return n},j=function(t,n,e){var r=-1,c=e;while(++r<6)c+=n*t[r],t[r]=c%1e7,c=d(c/1e7)},m=function(t,n){var e=6,r=0;while(--e>=0)r+=t[e],t[e]=d(r/n),r=r%n*1e7},g=function(t){var n=6,e="";while(--n>=0)if(""!==e||0===n||0!==t[n]){var r=f(t[n]);e=""===e?r:e+b("0",7-r.length)+r}return e},y=u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}));r({target:"Number",proto:!0,forced:y},{toFixed:function(t){var n,e,r,c,o=a(this),s=i(t),u=[0,0,0,0,0,0],d="",p="0";if(s<0||s>20)throw l("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return f(o);if(o<0&&(d="-",o=-o),o>1e-21)if(n=O(o*h(2,69,1))-69,e=n<0?o*h(2,-n,1):o/h(2,n,1),e*=4503599627370496,n=52-n,n>0){j(u,0,e),r=s;while(r>=7)j(u,1e7,0),r-=7;j(u,h(10,r,1),0),r=n-1;while(r>=23)m(u,1<<23),r-=23;m(u,1<<r),j(u,1,1),m(u,2),p=g(u)}else j(u,0,e),j(u,1<<-n,0),p=g(u)+b("0",s);return s>0?(c=p.length,p=d+(c<=s?"0."+b("0",s-c)+p:v(p,0,c-s)+"."+v(p,c-s))):p=d+p,p}})},c68a:function(t,n,e){"use strict";e("63cf")},caad:function(t,n,e){"use strict";var r=e("23e7"),c=e("4d64").includes,o=e("44d2");r({target:"Array",proto:!0},{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},e43f:function(t,n,e){"use strict";e.r(n);var r=e("7a23"),c={class:"transactions-list"},o={class:"transactions-list__btns"},i={class:"transactions-list__sum"},a={class:"sum-item"};function s(t,n,e,s,u,l){var f=Object(r["y"])("BlockchainTable");return Object(r["r"])(),Object(r["e"])("section",c,[Object(r["f"])("div",o,[Object(r["f"])("button",{class:"btn",onClick:n[0]||(n[0]=function(n){return t.sendws()}),style:{background:"green"}},"Запуск"),Object(r["f"])("button",{class:"btn",onClick:n[1]||(n[1]=function(n){return t.stopws()}),style:{background:"red"}},"Остановка"),Object(r["f"])("button",{class:"btn",onClick:n[2]||(n[2]=function(n){return t.clearTransactionsList()}),style:{background:"orange"}},"Сброс")]),Object(r["f"])("div",i,[Object(r["f"])("p",a,"Сумма: "+Object(r["A"])(t.fixedSumValue)+" BTC",1)]),Object(r["h"])(f,{transactions:t.transactions},null,8,["transactions"])])}e("a9e3"),e("b680"),e("d81d");var u=function(t){return Object(r["u"])("data-v-66ce48e2"),t=t(),Object(r["s"])(),t},l=u((function(){return Object(r["f"])("div",{class:"transaction-wrapper"},[Object(r["f"])("div",{class:"transaction"},[Object(r["f"])("p",null,"From")]),Object(r["f"])("div",{class:"transaction border"},[Object(r["f"])("p",null,"To")]),Object(r["f"])("div",{class:"transaction"},[Object(r["f"])("p",null,"Value")])],-1)})),f={class:"transaction"},d={class:"transaction border"},b={class:"transaction"};function v(t,n,e,c,o,i){return Object(r["r"])(),Object(r["e"])("section",null,[l,(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(e.transactions,(function(t,n){return Object(r["r"])(),Object(r["e"])("div",{key:n,class:"transaction-wrapper"},[Object(r["f"])("div",f,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(t.fromAddr,(function(t,n){return Object(r["r"])(),Object(r["e"])("p",{class:"transaction-hash",key:n},Object(r["A"])(t),1)})),128))]),Object(r["f"])("div",d,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(t.toAddr,(function(t,n){return Object(r["r"])(),Object(r["e"])("p",{class:"transaction-hash",key:n},Object(r["A"])(t),1)})),128))]),Object(r["f"])("div",b,[Object(r["f"])("p",null,Object(r["A"])(t.value)+" BTC",1)])])})),128))])}e("a4d3"),e("e01a"),e("d3b7"),e("d28b"),e("3ca3"),e("ddb0");function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}e("caad"),e("2532");var h={name:"BlockchainTable",props:{transactions:{type:Array,required:!0,default:function(){return[]},validator:function(t){return!t.length||t.includes((function(t){return"object"===p(t)}))}}}},O=(e("c68a"),e("6b0d")),j=e.n(O);const m=j()(h,[["render",v],["__scopeId","data-v-66ce48e2"]]);var g=m,y=(e("e9c4"),null),w=function(){var t,n,e;null===(t=y)||void 0===t||t.removeEventListener("close",x),null===(n=y)||void 0===n||n.removeEventListener("open",E),null===(e=y)||void 0===e||e.removeEventListener("error",T)},k=function(){var t,n,e;w(),_(),y=new WebSocket("wss://ws.blockchain.info/inv"),null===(t=y)||void 0===t||t.addEventListener("close",x),null===(n=y)||void 0===n||n.addEventListener("open",E),null===(e=y)||void 0===e||e.addEventListener("error",T)},S=function(t){var n,e=JSON.stringify(t);(null===(n=y)||void 0===n?void 0:n.readyState)===WebSocket.OPEN&&y.send(e)},x=function(t){t.wasClean?console.log("close WS clean"):(console.log("Close WS with Error, connect WS again"),setTimeout((function(){k()}),3e3))},E=function(){console.log("open WS")},T=function(t){console.log("Error WS",t)},_=function(){var t;null===(t=y)||void 0===t||t.close()},A=function(){S({op:"unconfirmed_sub"})},L=function(){S({op:"unconfirmed_unsub"})},W=Object(r["i"])({name:"Blockchain",components:{BlockchainTable:g},data:function(){return{transactions:[],sumValue:0}},computed:{fixedSumValue:function(){return this.transactions.length?Number(this.sumValue.toFixed(4)):0}},created:function(){k(),null===y||void 0===y||y.addEventListener("message",this.setTransactionsHandler)},beforeUnmount:function(){_(),null===y||void 0===y||y.removeEventListener("message",this.setTransactionsHandler)},methods:{sendws:function(){A()},stopws:function(){L()},clearTransactionsList:function(){this.transactions=[],this.sumValue=0},setTransactionsHandler:function(t){var n=JSON.parse(t.data).x,e=n.inputs,r=n.out,c=n.size;if(e){var o={fromAddr:e.map((function(t){return t.prev_out.addr})),toAddr:r.map((function(t){return t.addr})),value:c/1e4};this.sumValue+=c/1e4,this.transactions.push(o)}}}});e("f418");const C=j()(W,[["render",s],["__scopeId","data-v-1c9866b4"]]);n["default"]=C},f418:function(t,n,e){"use strict";e("94c7")}}]);
//# sourceMappingURL=chunk-29fc7052.7e077206.js.map